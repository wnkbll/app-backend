# FastAPI backend application

## Getting Started

### Dependencies
* Docker Engine - https://docs.docker.com/engine/install/
* Docker Compose - https://docs.docker.com/compose/install/

### Installing
Before starting, make sure you have the latest versions of Docker installed.

Run the following commands to pull this repo from github and get to src folder:
```
git clone https://github.com/wnkbll/fastapi-backend.git
cd fastapi-backend
```
Create the ```.env.prod``` file or modify the ```.env.example``` file:
```
DB_HOST=db
DB_PORT=1221
DB_NAME=postgres
DB_USER=postgres
DB_PASS=postgres

POSTGRES_DB=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

REDIS_HOST=redis
REDIS_PORT=5370

SECRET_KEY=secret
```

### Run With Docker
You must have ```docker``` and ```docker-compose``` tools installed to work with material in this section.
Head to the root folder of the project.
To run the program, we spin up the containers with
```
docker compose build
docker compose up
```

### Project Structure
```bash
├───scripts                     # bash scripts for docker
├───src
│   ├───api
│   │   ├───dependencies.py     # FastAPI dependency injection 
│   │   └───routes              # endpoint definintions
│   ├───core                    # settings, paths
│   ├───db
│   │   ├───tables.py           # SQLAlchemy models
│   │   └───repositories        # CRUD related stuff
│   ├───models                  # Pydantic models
│   └───services                # Services for jwt generation, hashing passwords, etc.
│   └───migrations              
│       └───versions            # Alembic autogenerated migrations
└───tests
```
